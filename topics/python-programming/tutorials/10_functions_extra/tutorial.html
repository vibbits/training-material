<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="google-site-verification" content="dw_1zBYRNxF7-vYNDXh3Ght_JuqgJt3BD1N_Pynqmv0" />
    <title>10 Functions extra</title>
    <script async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-61194136-18', 'auto');
        ga('send', 'pageview');
    </script>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css?v=3">
    <link rel="stylesheet" href="/assets/css/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/font-awesome.css">
    <link rel="stylesheet" href="/assets/css/main.scss">
    <link rel="stylesheet" href="/assets/css/VIB.css">
    <link rel="stylesheet" href="/assets/css/academicons.css">
    <link rel="stylesheet" href="/assets/css/syntax_highlighting.css">
    <link rel="shortcut icon" href="/favicon.ico " type="image/x-icon" />     
    <meta name="description" content="In this course you'll get to learn all the basics of Pyth..." />
    <meta property="og:title" content="VIB Bioinformatics Training: 10 Functions extra" />
    <meta property="og:description" content="In this course you'll get to learn all the basics of Pyth..." />
    <meta property="og:image" content="/assets/images/bioinformatics_core_rgb_neg.png" />
</head>

<body data-spy="scroll" data-target="#toc">
    <div class="top-bar-vib">
 <a href="http://vib.be/en" target="_blank" style="font-size:14px">VIB Home </a>
</div>

<div class="container main-content">

<div class="container page-top__container">
          <div class="region region-top">
  <div id="logo" class="col-md-3 col-lg-3 text-left" style="padding-left:0px;margin-top:20px">
       <a href="/">
           <img src="/assets/images/logo.svg" height="60" alt="VIB logo" class="margin20">
       </a>
    </div>
    <div class="col-md-9 col-lg-9 text-right" style="margin-top:50px;">
    <nav role="navigation" aria-labelledby="block-mainnavigation-menu" id="block-mainnavigation" class="block block-menu navigation menu--main">
  


        <a href="/" class="topmenu">Home</a>


        <a href="/about.html" class="topmenu" >About</a>


        <a href="/hall-of-fame.html" class="topmenu">Contribute</a>


        <a href="/faq.html" class="topmenu">Faq</a>


        <a href="/search/index.html" class="topmenu">Search</a>


  </nav>

    </div>
  </div>
</div>














    <script type="application/ld+json">
        


{
  "@context": "http://schema.org",
  "@type": "Course",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "Short descriptions are present but long descriptions will be needed for non-visual users",
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "copyrightHolder": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "headline": "10 Functions extra",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "license": "/blob//LICENSE.md",
  "producer": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "provider": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "courseCode": "python-programming / 10_functions_extra / hands-on",
  "learningResourceType": "hands-on tutorial",
  "name": "Hands-on for '10 Functions extra' tutorial",
  "isPartOf": {
    "@type": "Course",
    "name": "10 Functions extra",
    "description": "10 Functions extra",
    "learningResourceType": "tutorial",
    "interactivityType": "expositive",
    "provider": {
      "@type": "Organization",
      "email": "bits@vib.be",
      "name": "VIB Bioinformatics Core",
      "url": "https://www.bits.vib.be"
    }
  },
  "url": "https://material.bits.vib.be//topics/python-programming/tutorials/10_functions_extra/tutorial.html",
  "timeRequired": "PT20M",
  "description": "10 Functions extra\\nThe questions this  addresses are:\n - \n\n\\nThe objectives are:\n - \n\n",
  "hasPart": [

  ],
  "mentions": [

  ],
  "author": [
    {
      "@type": "Person",
      "name": "Tuur Muyldermans"
    }
  ],
  "contributor": [
    {
      "@type": "Person",
      "name": "Tuur Muyldermans"
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Gentle hands-on introduction to Python programming",
      "description": "In this course you'll get to learn all the basics of Python by plenty hands-on exercises related to bioinformatics or Life Sciences data-analyses.",
      "url": "https://material.bits.vib.be//topics/python-programming/"
    }
  ]
}
    </script>

    <div class="row tutorial">
      <div class="col-md-12" role="main">
        <h1 data-toc-skip>10 Functions extra</h1>
        <div class="contributors-line">By: 

<a href="/hall-of-fame#tmuylder" class="contributor-badge">Tuur Muyldermans</a>


</div>
        <blockquote class="overview">

            <strong><i class="fa fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Questions</strong>
            <ul>
            
            <li></li>
            
            </ul>

            <strong><i class="fa fa-bullseye" aria-hidden="true"></i><span class="visually-hidden">objectives</span> Objectives</strong>
            <ul>
            
            <li></li>
            
            </ul>

            

            
            <p><strong><i class="fa fa-hourglass-end" aria-hidden="true"></i><span class="visually-hidden">time</span> Time estimation:</strong> 20 minutes</p>
            

            


            

        </blockquote>

        <div class="container" data-field="body">
            <div class="row">
                <div class="col-md-10" role="main">
                    <h2 id="extra-exercises-on-functions">Extra exercises on functions</h2>

<p>This chapter contains some extra exercises on functions. In the end, practice makes perfectâ€¦</p>

<hr />

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-exercise-1021"><i class="fa fa-pencil" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Exercise 10.2.1</h3>

  <p>Download <a href="http://wiki.bits.vib.be/images/4/4e/Matrix.txt">this matrix file</a> (<code class="language-plaintext highlighter-rouge">Matrix.txt</code>) and save it in your directory. Then write a function to read a matrix file in this format, reorder the rows by the values in the given column, and printing out the result. The function should take as argument a file name and a column number.</p>

  <blockquote>
    <details>
      <summary><i class="fa fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution
</summary>

      <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">sortMatrixByColumn</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span><span class="n">columnNumber</span><span class="p">):</span>
    <span class="c1">#
</span>    <span class="c1"># Read the tab-delimited file and store the values
</span>    <span class="c1">#
</span> 
    <span class="n">fin</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">fin</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">fin</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
 
    <span class="c1">#
</span>    <span class="c1"># Convert the data from the file into a Python list
</span>    <span class="c1">#
</span> 
    <span class="n">matrix</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">matrixRow</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="c1"># Tab-delimited, so split line by \t - this will give a list of strings
</span>        <span class="n">matrixColumns</span> <span class="o">=</span> <span class="n">matrixRow</span><span class="p">.</span><span class="n">rstrip</span><span class="p">().</span><span class="n">split</span><span class="p">(</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">)</span> 
 
        <span class="c1"># Add a row to the matrix
</span>        <span class="n">matrix</span><span class="p">.</span><span class="n">append</span><span class="p">([])</span>
 
        <span class="c1"># Add the columns, but convert the strings from the file into a float
</span>        <span class="k">for</span> <span class="n">matrixValue</span> <span class="ow">in</span> <span class="n">matrixColumns</span><span class="p">:</span>
            <span class="n">matrix</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">matrixValue</span><span class="p">))</span>
 
    <span class="c1">#
</span>    <span class="c1"># Now sort by column - but have to track the row number as well!
</span>    <span class="c1">#
</span> 
    <span class="n">selectedColumnValues</span> <span class="o">=</span> <span class="p">[]</span>
 
    <span class="k">for</span> <span class="n">rowNumber</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">matrix</span><span class="p">)):</span>
 
        <span class="n">selectedColumnValues</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">matrix</span><span class="p">[</span><span class="n">rowNumber</span><span class="p">][</span><span class="n">columnNumber</span><span class="p">],</span><span class="n">rowNumber</span><span class="p">))</span>
 
        <span class="n">selectedColumnValues</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
 
    <span class="c1">#
</span>    <span class="c1"># Now print out the new matrix - the column value is now not interesting
</span>    <span class="c1"># we want the row number!!
</span>    <span class="c1">#
</span> 
    <span class="k">for</span> <span class="p">(</span><span class="n">columnValue</span><span class="p">,</span><span class="n">rowNumber</span><span class="p">)</span> <span class="ow">in</span> <span class="n">selectedColumnValues</span><span class="p">:</span>  
        <span class="n">columnValueStrings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">[</span><span class="n">rowNumber</span><span class="p">]:</span>
            <span class="n">columnValueStrings</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"{:.3f}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">columnValueStrings</span><span class="p">))</span>
 
 
<span class="n">sortMatrixByColumn</span><span class="p">(</span><span class="s">"data/matrix.txt"</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>      </div>
    </details>
  </blockquote>

</blockquote>
<hr />

<hr />

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-exercise-1022"><i class="fa fa-pencil" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Exercise 10.2.2</h3>

  <p>Modify the program to read in the TestFile.pdb file by using separate functions to</p>
  <ol>
    <li>get the title,</li>
    <li>dissect the information from the ATOM line and</li>
    <li>
      <p>to calculate the distance to the reference distance</p>

      <blockquote>
        <details>
          <summary><i class="fa fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution
</summary>

          <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">getTitle</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">cols</span><span class="p">):</span>
 
    <span class="c1"># Gets the title
</span> 
    <span class="n">title</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s">''</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
 
    <span class="k">return</span> <span class="p">(</span><span class="s">"The title is '%s'"</span> <span class="o">%</span> <span class="n">title</span><span class="p">)</span>
 
<span class="k">def</span> <span class="nf">getAtomInfo</span><span class="p">(</span><span class="n">cols</span><span class="p">):</span>
 
    <span class="c1"># Get relevant information from an ATOM line and convert to the right type
</span> 
    <span class="n">atomSerial</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">atomName</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">residueNumber</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
    <span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
    <span class="n">z</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>
 
    <span class="k">return</span> <span class="p">(</span><span class="n">atomSerial</span><span class="p">,</span><span class="n">atomName</span><span class="p">,</span><span class="n">residueNumber</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
 
<span class="k">def</span> <span class="nf">calculateDistance</span><span class="p">(</span><span class="n">coordinate1</span><span class="p">,</span><span class="n">coordinate2</span><span class="p">):</span>
 
    <span class="c1"># Calculate the distance between two 3 dimensional coordinates
</span> 
    <span class="k">return</span> <span class="p">((</span><span class="n">coordinate1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">coordinate2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">coordinate1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">coordinate2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">coordinate1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">coordinate2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
 

<span class="c1"># Open the file
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/TestFile.pdb"</span><span class="p">)</span>
 
<span class="c1"># Read all the lines in the file (as separated by a newline character), and store them in the lines list
# Each element in this list corresponds to one line of the file!
</span><span class="n">lines</span> <span class="o">=</span> <span class="n">fileHandle</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
 
<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
 
<span class="c1"># Initialise some information
</span><span class="n">searchCoordinate</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">8.7</span><span class="p">,</span><span class="o">-</span><span class="mf">7.7</span><span class="p">,</span><span class="mf">4.7</span><span class="p">)</span>
<span class="n">modelNumber</span> <span class="o">=</span> <span class="bp">None</span>
 
<span class="c1"># Loop over the lines, and do some basic string manipulations
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
 
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Remove starting and trailing spaces/tabs/newlines
</span> 
    <span class="c1"># Only do something if it's not an empty line
</span>    <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">split</span><span class="p">()</span>   <span class="c1"># Split the line by white spaces; depending on the format this could be commas, ...
</span> 
        <span class="c1"># Print off the title
</span>        <span class="k">if</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">'TITLE'</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">getTitle</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">cols</span><span class="p">))</span>
 
        <span class="c1"># Track the model number
</span>        <span class="k">elif</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">'MODEL'</span><span class="p">:</span>
            <span class="n">modelNumber</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
 
        <span class="c1"># For atom lines, calculate the distance
</span>        <span class="k">elif</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">'ATOM'</span><span class="p">:</span>
            <span class="p">(</span><span class="n">atomSerial</span><span class="p">,</span><span class="n">atomName</span><span class="p">,</span><span class="n">residueNumber</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="n">getAtomInfo</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span>
 
            <span class="c1"># Calculate the distance
</span>            <span class="n">distance</span> <span class="o">=</span> <span class="n">calculateDistance</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="n">searchCoordinate</span><span class="p">)</span>
 
            <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="mf">2.0</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"Model {}, residue {}, atom {} (serial {}) is {:.2f} away from reference."</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">modelNumber</span><span class="p">,</span><span class="n">residueNumber</span><span class="p">,</span><span class="n">atomName</span><span class="p">,</span><span class="n">atomSerial</span><span class="p">,</span><span class="n">distance</span><span class="p">))</span>
</code></pre></div>          </div>
        </details>
      </blockquote>
    </li>
  </ol>

</blockquote>
<hr />




                    

                    
                    <h1 data-toc-skip>Useful literature</h1>
                    <p>Further information, including links to documentation and original publications, regarding the tools, analysis techniques and the interpretation of results described in this tutorial can be found <a href="/topics/python-programming#references">here</a>.</p>
                    

                    

                </div>
                <!-- sidebar, which will be hidden on a small screen -->
                <nav class="col-md-2 sticky-toc bs-docs-sidebar hidden-print hidden-xs hidden-sm" role="complementary" id="toc" data-toggle="toc"></nav>
            </div>
        </div>

        <h3><i class="fa fa-thumbs-up" aria-hidden="true"></i><span class="visually-hidden">congratulations</span> Congratulations on successfully completing this tutorial!</h3>

        

        

</div>
</div>
</div>
<footer>
   <div class="well row">
       <div class="col-md-2 text-center" style="padding: 25px 20px 25px 20px;">				
         <a href="https://www.bits.vib.be" target="_blank"><img src="/assets/images/bioinformatics_core_rgb_neg.png" width="200"></a>
       </div>
       <div class="col-md-8 text-center" style="padding-top: 20px;">	
        <a href="https://github.com/vibbits/training-material" title="View on GitHub" class="margin20" target="_blank">
                            <i class="fa fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> View on GitHub
                        </a>
       </div>
       <div class="col-md-2 text-center" style="padding-top: 30px;">
         <span class="slogan"><br>SCIENCE MEETS LIFE</span>
       </div>
   </div>
</footer>


</body>
<script type="text/javascript" src="/assets/js/jquery.slim.min.js"></script>
<script type="text/javascript" src="/assets/js/popper.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap.min.js?v=3"></script>
<script type="text/javascript" src="/assets/js/details-element-polyfill.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/javascript" src="/assets/js/bootstrap-toc.min.js"></script>
<script type="text/javascript" src="/assets/js/main.js"></script>
<script type="text/javascript" src="/assets/js/clipboard.min.js"></script>
<script type="text/javascript">
    var snippets = document.querySelectorAll('div.highlight');
    [].forEach.call(snippets, function(snippet) {
        snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn btn-light" data-clipboard-snippet><i class="fa fa-copy"></i>&nbsp;Copy</button>');
    });

    var clipboardSnippets = new ClipboardJS('[data-clipboard-snippet]', {
        target: function(trigger) {
            return trigger.nextElementSibling;
        }
    });
</script>

</html>
