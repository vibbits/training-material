<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="google-site-verification" content="dw_1zBYRNxF7-vYNDXh3Ght_JuqgJt3BD1N_Pynqmv0" />
    <title>09 Files</title>
    <script async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-61194136-18', 'auto');
        ga('send', 'pageview');
    </script>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css?v=3">
    <link rel="stylesheet" href="/assets/css/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/font-awesome.css">
    <link rel="stylesheet" href="/assets/css/main.scss">
    <link rel="stylesheet" href="/assets/css/VIB.css">
    <link rel="stylesheet" href="/assets/css/academicons.css">
    <link rel="stylesheet" href="/assets/css/syntax_highlighting.css">
    <link rel="shortcut icon" href="/favicon.ico " type="image/x-icon" />     
    <meta name="description" content="In this course you'll get to learn all the basics of Pyth..." />
    <meta property="og:title" content="VIB Bioinformatics Training: 09 Files" />
    <meta property="og:description" content="In this course you'll get to learn all the basics of Pyth..." />
    <meta property="og:image" content="/assets/images/bioinformatics_core_rgb_neg.png" />
</head>

<body data-spy="scroll" data-target="#toc">
    <div class="top-bar-vib">
 <a href="http://vib.be/en" target="_blank" style="font-size:14px">VIB Home </a>
</div>

<div class="container main-content">

<div class="container page-top__container">
          <div class="region region-top">
  <div id="logo" class="col-md-3 col-lg-3 text-left" style="padding-left:0px;margin-top:20px">
       <a href="/">
           <img src="/assets/images/logo.svg" height="60" alt="VIB logo" class="margin20">
       </a>
    </div>
    <div class="col-md-9 col-lg-9 text-right" style="margin-top:50px;">
    <nav role="navigation" aria-labelledby="block-mainnavigation-menu" id="block-mainnavigation" class="block block-menu navigation menu--main">
  


        <a href="/" class="topmenu">Home</a>


        <a href="/about.html" class="topmenu" >About</a>


        <a href="/hall-of-fame.html" class="topmenu">Contribute</a>


        <a href="/faq.html" class="topmenu">Faq</a>


        <a href="/search/index.html" class="topmenu">Search</a>


  </nav>

    </div>
  </div>
</div>














    <script type="application/ld+json">
        


{
  "@context": "http://schema.org",
  "@type": "Course",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "Short descriptions are present but long descriptions will be needed for non-visual users",
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "copyrightHolder": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "headline": "09 Files",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "license": "/blob//LICENSE.md",
  "producer": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "provider": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "email": "bits@vib.be",
    "name": "VIB Bioinformatics Core",
    "url": "https://www.bits.vib.be"
  },
  "courseCode": "python-programming / 9_files / hands-on",
  "learningResourceType": "hands-on tutorial",
  "name": "Hands-on for '09 Files' tutorial",
  "isPartOf": {
    "@type": "Course",
    "name": "09 Files",
    "description": "09 Files",
    "learningResourceType": "tutorial",
    "interactivityType": "expositive",
    "provider": {
      "@type": "Organization",
      "email": "bits@vib.be",
      "name": "VIB Bioinformatics Core",
      "url": "https://www.bits.vib.be"
    }
  },
  "url": "https://material.bits.vib.be//topics/python-programming/tutorials/9_files/tutorial.html",
  "timeRequired": "PT30M",
  "description": "09 Files\\nThe questions this  addresses are:\n - How to import data from files\n - How to export data made by an analysis into a file\n\n\\nThe objectives are:\n - Understand the difference between the alternative ways of reading in files.\n - Exploit these different ways of reading in files for specific purposes.\n - Open & close files appropriately.\n - Incorporate writing lines into loops and combine with conditions.\n\n",
  "hasPart": [

  ],
  "mentions": [

  ],
  "author": [
    {
      "@type": "Person",
      "name": "Tuur Muyldermans"
    }
  ],
  "contributor": [
    {
      "@type": "Person",
      "name": "Tuur Muyldermans"
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Gentle hands-on introduction to Python programming",
      "description": "In this course you'll get to learn all the basics of Python by plenty hands-on exercises related to bioinformatics or Life Sciences data-analyses.",
      "url": "https://material.bits.vib.be//topics/python-programming/"
    }
  ]
}
    </script>

    <div class="row tutorial">
      <div class="col-md-12" role="main">
        <h1 data-toc-skip>09 Files</h1>
        <div class="contributors-line">By: 

<a href="/hall-of-fame#tmuylder" class="contributor-badge">Tuur Muyldermans</a>


</div>
        <blockquote class="overview">

            <strong><i class="fa fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Questions</strong>
            <ul>
            
            <li>How to import data from files</li>
            
            <li>How to export data made by an analysis into a file</li>
            
            </ul>

            <strong><i class="fa fa-bullseye" aria-hidden="true"></i><span class="visually-hidden">objectives</span> Objectives</strong>
            <ul>
            
            <li>Understand the difference between the alternative ways of reading in files.</li>
            
            <li>Exploit these different ways of reading in files for specific purposes.</li>
            
            <li>Open & close files appropriately.</li>
            
            <li>Incorporate writing lines into loops and combine with conditions.</li>
            
            </ul>

            

            
            <p><strong><i class="fa fa-hourglass-end" aria-hidden="true"></i><span class="visually-hidden">time</span> Time estimation:</strong> 30 minutes</p>
            

            


            

        </blockquote>

        <div class="container" data-field="body">
            <div class="row">
                <div class="col-md-10" role="main">
                    <h2 id="91-introduction">9.1 Introduction</h2>

<p>More often than not the data you need for your program will come from somewhere else - either from user input or a file. Especially for more complex data, it becomes essential to be able to read in data files, do something with the data, and write out a new file with modified information or a set of analysis results.</p>

<h2 id="92-reading-files">9.2 Reading files</h2>

<p>To read in a file you have to create a <em>file handle</em>. This is a sort of connection to the file that you can use to pull data from it. You create a connection to a file by using the <strong>open()</strong> function. Whenever you’re done using the file, it’s good practice to close the file handle.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Open the file
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/readfile.txt"</span><span class="p">)</span>  
<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="c1"># Nothing happened...
</span></code></pre></div></div>

<p>All this does, is creating this connection, the file has not been read. In order to read in a file, there are a couple of possibilities:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">readline()</code> - read the first line of the file as one string.</li>
  <li><code class="language-plaintext highlighter-rouge">readlines()</code> - read all of the lines in the file. Each line is one string. The lines are combined as a list of lines (strings).</li>
  <li><code class="language-plaintext highlighter-rouge">read()</code> - read the whole file as one string. 
Each method has its advantage. E.g. if you’re searching for the presence of a word or string in a file, given that the file is not too big, you can use <em>read</em>. If you want to process an enormously big file and from each line you need to extract, process and save the information, than it’s better to read line by line with <em>readline</em> within a for-loop. Try to understand the difference of these methods while you go through this section.</li>
</ul>

<p>Given the file <code class="language-plaintext highlighter-rouge">readfile.txt</code> in a folder named data:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>This is the first line.
Here is a second one. 
And there is also a third line. 
</code></pre></div></div>

<ol>
  <li>Using <code class="language-plaintext highlighter-rouge">read</code>:
Note that the three different lines are read in one long string. This is how the <code class="language-plaintext highlighter-rouge">read</code> function works.</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/readfile.txt"</span><span class="p">)</span>  
<span class="n">fileHandle</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<ol>
  <li>Using <code class="language-plaintext highlighter-rouge">readline</code>:
Readline reads in the following line. It starts with the first one. When you call the method again, it will print the second line. It’s important to understand this as you can exploit this method in a for-loop to access each line separately.</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/readfile.txt"</span><span class="p">)</span>   
<span class="n">fileHandle</span><span class="p">.</span><span class="n">readline</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fileHandle</span><span class="p">.</span><span class="n">readline</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<ol>
  <li>Using <code class="language-plaintext highlighter-rouge">readlines</code>:
Instead of reading the lines of a file one by one, you can also do it in one go. As explained above, each line is one string and all of the lines/strings are stored in a list.
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/readfile.txt"</span><span class="p">)</span>   
<span class="n">fileHandle</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<p>Knowing this we can move on to more complex examples. First make sure to find the PDB file <em>TestFile.PDB</em> in your data folder or download <a href="http://wiki.bits.vib.be/images/3/3a/TestFile.pdb">this fake PDB coordinate file for a 5 residue peptide</a> and save it in the data directory.</p>

<p>In the example below we will read all the lines in the file (as separated by a newline character), and store them in the variable <em>lines</em>. Each element in this list corresponds to one line of the file! When this is done, we close the file.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Read in the file per line
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/TestFile.pdb"</span><span class="p">)</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">fileHandle</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
 
<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
 
<span class="c1"># Print number of lines in the file
</span><span class="k">print</span><span class="p">(</span><span class="s">"There are:"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">),</span> <span class="s">"lines in the file"</span><span class="p">)</span>

<span class="c1"># Loop over the lines, and do some basic string manipulations
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Remove starting and trailing spaces/tabs/newlines
</span>    <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">strip</span><span class="p">().</span><span class="n">split</span><span class="p">()</span>
<span class="n">line</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<p>Now you can do many other things with the data in the file. E.g. if you want to count the number of times a carbon element appears in the file.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Open the file
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/TestFile.pdb"</span><span class="p">)</span>
 
<span class="c1"># Read all the lines in the file (as separated by a newline character), and store them in the lines list
# Each element in this list corresponds to one line of the file!
</span><span class="n">lines</span> <span class="o">=</span> <span class="n">fileHandle</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
 
<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
 
<span class="c1"># Initialise the line counter
</span><span class="n">lineCount</span> <span class="o">=</span> <span class="mi">0</span>
 
<span class="c1"># Loop over the lines
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">strip</span><span class="p">().</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">columns</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s">'C'</span><span class="p">:</span>       <span class="c1"># Alternatively, use "if ' C ' in line:"
</span>        <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>     <span class="c1"># Using the 'end' argument in the print because the line already contains a newline at the end
</span>                                <span class="c1"># otherwise will get double spacing.
</span>        <span class="n">lineCount</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Number of lines with ' C ': {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">lineCount</span><span class="p">))</span>
</code></pre></div></div>

<p>You should find 75 lines - note that in this case, for those who know the PDB format a bit, you’re finding all carbon atoms.</p>

<p>Alternatively, you can use the with() statement to open files. The example here above would then become:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/readfile.txt"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fileHandle</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fileHandle</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</code></pre></div></div>
<p>This method is often used as it does not require you to keep track of the open file in your mind, as well as clearer syntax.</p>

<h2 id="93-writing-a-file">9.3 Writing a file</h2>
<p>Writing a file is very similar, except that you have to let Python know you are writing this time by adding the <code class="language-plaintext highlighter-rouge">'w'</code> parameter in the <code class="language-plaintext highlighter-rouge">open()</code> function. Actually Python needs two arguments, however it assumes that if you only give one parameter (the file that it has to read), the other one is <code class="language-plaintext highlighter-rouge">'r'</code> which stands for <em>reading</em> mode.</p>

<p>For the sake of the example, we’re writing a new file and call it <code class="language-plaintext highlighter-rouge">writefile.txt</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'data/writefile.txt'</span><span class="p">,</span><span class="s">'w'</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'Now we have a new file </span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'Because Python automatically makes this file and writes some text to it.'</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'Btw, if you don</span><span class="se">\'</span><span class="s">t specify the newline characters, it will append the string at the end of the last line'</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'data/writefile.txt'</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<p><strong>Be careful</strong> - if the file exists already it will be overwritten without warning!</p>

<p>The file is written to the directory you’re executing the program in - have a look!</p>

<hr />

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-exercise-931"><i class="fa fa-pencil" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Exercise 9.3.1</h3>

  <p>Read in the file <code class="language-plaintext highlighter-rouge">TestFile.pdb</code>, and write out all lines that contain ‘VAL’ to a new file.</p>

  <blockquote>
    <details>
      <summary><i class="fa fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution 1
</summary>

      <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Read the file
</span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/TestFile.pdb"</span><span class="p">,</span><span class="s">"r"</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'data/withval.pdb'</span><span class="p">,</span><span class="s">'w'</span><span class="p">)</span>

<span class="c1"># Loop over the lines
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">if</span> <span class="s">'VAL'</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>      <span class="c1"># Alternatively, use "if ' C ' in line:"
</span>        <span class="k">if</span> <span class="s">'ATOM'</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">g</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">g</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>      </div>
    </details>
    <details>
      <summary><i class="fa fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution 2
</summary>

      <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Open the file
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/TestFile.pdb"</span><span class="p">)</span>

<span class="c1"># Read all the lines in the file (as separated by a newline character), and store them in the lines list
# Each element in this list corresponds to one line of the file!
</span><span class="n">lines</span> <span class="o">=</span> <span class="n">fileHandle</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
 
<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
 
<span class="c1"># Track the lines with VAL
</span><span class="n">linesToWrite</span> <span class="o">=</span> <span class="p">[]</span>
 
<span class="c1"># Loop over the lines
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">line</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="s">"VAL"</span><span class="p">):</span>      <span class="c1"># Alternatively, use "if ' C ' in line:"
</span>        <span class="n">linesToWrite</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># Write out the lines
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/fileWithVAL.pdb"</span><span class="p">,</span><span class="s">'w'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">linesToWrite</span><span class="p">:</span>
    <span class="n">fileHandle</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>      </div>
    </details>
    <details>
      <summary><i class="fa fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution 3
</summary>

      <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Read the file
</span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/TestFile.pdb"</span><span class="p">,</span><span class="s">"r"</span><span class="p">)</span>

<span class="c1"># Track the lines with VAL
</span><span class="n">linesToWrite</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop over the lines
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">.</span><span class="n">readlines</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">line</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="s">"VAL"</span><span class="p">):</span>      <span class="c1"># Alternatively, use "if ' C ' in line:"
</span>        <span class="n">linesToWrite</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># Write out the lines
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/fileWithVAL.pdb"</span><span class="p">,</span><span class="s">'w'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">linesToWrite</span><span class="p">:</span>
    <span class="n">fileHandle</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>      </div>
    </details>
  </blockquote>

</blockquote>

<h2 id="94-advanced-file-reading-and-interpretation">9.4 Advanced file reading and interpretation</h2>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-exercise-941"><i class="fa fa-pencil" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Exercise 9.4.1</h3>

  <p>Read in the TestFile.pdb file, print out the title of the file, and find all atoms that have coordinates closer than 2 angstrom to the (x,y,z) coordinate (-8.7,-7.7,4.7). Print out the model number, residue number, atom name and atom serial for each; the model is indicated by:</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MODEL     1
</code></pre></div>  </div>
  <p>lines, the atom coordinate information is in:</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ATOM      1  N   ASP A   1     -10.341  -9.922   9.398  1.00  0.00           N
</code></pre></div>  </div>
  <p>lines, where column 1 is always ATOM, column 2 is the atom serial,  column 3 the atom name, column 4 the residue name, column 5 the chain code, column 6 the residue number, followed by the x, y and z coordinates in angstrom in columns 7, 8 and 9.</p>

  <p>note that the distance between two coordinates is calculated as the square root of (x1-x2)²+(y1-y2)²+(z1-z2)².</p>

  <blockquote>
    <details>
      <summary><i class="fa fa-eye" aria-hidden="true"></i><span class="visually-hidden">solution</span> Solution 
</summary>

      <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Open the file
</span><span class="n">fileHandle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/TestFile.pdb"</span><span class="p">)</span>
 
<span class="c1"># Read all the lines in the file (as separated by a newline character), and store them in the lines list
# Each element in this list corresponds to one line of the file!
</span><span class="n">lines</span> <span class="o">=</span> <span class="n">fileHandle</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
 
<span class="c1"># Close the file
</span><span class="n">fileHandle</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
 
<span class="c1"># Initialise some information
</span><span class="n">searchCoordinate</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">8.7</span><span class="p">,</span><span class="o">-</span><span class="mf">7.7</span><span class="p">,</span><span class="mf">4.7</span><span class="p">)</span>
<span class="n">modelNumber</span> <span class="o">=</span> <span class="bp">None</span>
 
<span class="c1"># Loop over the lines, and do some basic string manipulations
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Remove starting and trailing spaces/tabs/newlines
</span>    
    <span class="c1"># Only do something if it's not an empty line
</span>    <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">split</span><span class="p">()</span>   <span class="c1"># Split the line by white spaces; depending on the format this could be commas, ...
</span> 
    <span class="c1"># Print the title
</span>    <span class="k">if</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">'TITLE'</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">line</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s">''</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"The title is '{}'"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">title</span><span class="p">))</span>
 
    <span class="c1"># Track the model number
</span>    <span class="k">elif</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">'MODEL'</span><span class="p">:</span>
        <span class="n">modelNumber</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
 
    <span class="c1"># For atom lines, calculate the distance
</span>    <span class="k">elif</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">'ATOM'</span><span class="p">:</span>
 
        <span class="c1"># Set some clear variable names and convert to the right type
</span>        <span class="n">atomSerial</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">atomName</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">residueNumber</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
        <span class="n">z</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>
 
        <span class="c1"># Calculate the distance
</span>        <span class="n">distance</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">searchCoordinate</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">searchCoordinate</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">z</span> <span class="o">-</span> <span class="n">searchCoordinate</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;</span> <span class="mf">2.0</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"Model {}, residue {}, atom {} (serial {}) is {:.2f} away from reference."</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">modelNumber</span><span class="p">,</span><span class="n">residueNumber</span><span class="p">,</span><span class="n">atomName</span><span class="p">,</span><span class="n">atomSerial</span><span class="p">,</span><span class="n">distance</span><span class="p">))</span>

</code></pre></div>      </div>
    </details>
  </blockquote>

</blockquote>

<h2 id="95-next-session">9.5 Next session</h2>
<p>Conclusion</p>



                    
                    <blockquote class="key_points">
                        <h3><i class="fa fa-key" aria-hidden="true"></i><span class="visually-hidden">keypoints</span> Key points</h3>

                        <ul>
                            
                            <li>We exploited different ways of reading files, each with its own advantage.</li>
                            
                            <li>We learned how to create a file containing results of some analysis.</li>
                            
                            <li>We're able to create loops in which we incorporate the exporting of data to a file that we're writing.</li>
                            
                        </ul>
                    </blockquote>
                    

                    
                    <h1 data-toc-skip>Useful literature</h1>
                    <p>Further information, including links to documentation and original publications, regarding the tools, analysis techniques and the interpretation of results described in this tutorial can be found <a href="/topics/python-programming#references">here</a>.</p>
                    

                    

                </div>
                <!-- sidebar, which will be hidden on a small screen -->
                <nav class="col-md-2 sticky-toc bs-docs-sidebar hidden-print hidden-xs hidden-sm" role="complementary" id="toc" data-toggle="toc"></nav>
            </div>
        </div>

        <h3><i class="fa fa-thumbs-up" aria-hidden="true"></i><span class="visually-hidden">congratulations</span> Congratulations on successfully completing this tutorial!</h3>

        

        

</div>
</div>
</div>
<footer>
   <div class="well row">
       <div class="col-md-2 text-center" style="padding: 25px 20px 25px 20px;">				
         <a href="https://www.bits.vib.be" target="_blank"><img src="/assets/images/bioinformatics_core_rgb_neg.png" width="200"></a>
       </div>
       <div class="col-md-8 text-center" style="padding-top: 20px;">	
        <a href="https://github.com/vibbits/training-material" title="View on GitHub" class="margin20" target="_blank">
                            <i class="fa fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> View on GitHub
                        </a>
       </div>
       <div class="col-md-2 text-center" style="padding-top: 30px;">
         <span class="slogan"><br>SCIENCE MEETS LIFE</span>
       </div>
   </div>
</footer>


</body>
<script type="text/javascript" src="/assets/js/jquery.slim.min.js"></script>
<script type="text/javascript" src="/assets/js/popper.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap.min.js?v=3"></script>
<script type="text/javascript" src="/assets/js/details-element-polyfill.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/javascript" src="/assets/js/bootstrap-toc.min.js"></script>
<script type="text/javascript" src="/assets/js/main.js"></script>
<script type="text/javascript" src="/assets/js/clipboard.min.js"></script>
<script type="text/javascript">
    var snippets = document.querySelectorAll('div.highlight');
    [].forEach.call(snippets, function(snippet) {
        snippet.firstChild.insertAdjacentHTML('beforebegin', '<button class="btn btn-light" data-clipboard-snippet><i class="fa fa-copy"></i>&nbsp;Copy</button>');
    });

    var clipboardSnippets = new ClipboardJS('[data-clipboard-snippet]', {
        target: function(trigger) {
            return trigger.nextElementSibling;
        }
    });
</script>

</html>
